package Task2;

import java.util.Iterator;

public class StudentGroup {
	private String groupSubject;
	private Student[] students;
	private int freePlaces;
	private final int maxGroupElements = 5;
	private int nextFreePosition;

	private StudentGroup() {
		this.students = new Student[this.maxGroupElements];
		this.freePlaces = this.maxGroupElements;
		this.nextFreePosition = 0;
	}

	public StudentGroup(String subject) {
		this();
		this.groupSubject = subject;
		System.out.println("New group " + this.groupSubject + " has created!");
	}

	public void addStudent(Student s) {
		if (this.nextFreePosition < this.maxGroupElements) {
			if (this.groupSubject.equals(s.getSubject())) {
				this.students[this.nextFreePosition] = s;
				this.nextFreePosition++;
				this.freePlaces--;

				System.out.println(s.getName() + " added to group " + this.groupSubject);
			} else {
				System.out.println("Wrong group!");
			}
		} else {
			System.out.println("No free places in the group.");
		}
	}

	public void emptyGroup() {
		this.students = new Student[this.maxGroupElements];
		this.freePlaces = this.maxGroupElements;
		this.nextFreePosition = 0;
		System.out.println("The group " + this.groupSubject + " has cleared.");
	}

	public Student theBestStudent() {
		int maxStudentPosition = 0;
		double maxGrade = this.students[maxStudentPosition].getGrade();

		for (int i = 1; i < this.students.length; i++) {
			if (maxGrade < this.students[i].getGrade()) {
				maxGrade = this.students[i].getGrade();
				maxStudentPosition = i;
			}
		}
		return this.students[maxStudentPosition];
	}
}
